{
 "annotations": {
  "list": [
   {
    "builtIn": 1,
    "datasource": {
     "type": "datasource",
     "uid": "grafana"
    },
    "enable": true,
    "hide": true,
    "iconColor": "rgba(0, 211, 255, 1)",
    "name": "Annotations & Alerts",
    "target": {
     "limit": 100,
     "matchAny": false,
     "tags": [],
     "type": "dashboard"
    },
    "type": "dashboard"
   }
  ]
 },
 "editable": true,
 "fiscalYearStartMonth": 0,
 "graphTooltip": 0,
 "links": [],
 "liveNow": false,
 "panels": [
  {
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "description": "Incoming Request Rate",
   "fieldConfig": {
    "defaults": {
     "mappings": [
      {
       "options": {
        "match": "null",
        "result": {
         "text": "N/A"
        }
       },
       "type": "special"
      }
     ],
     "thresholds": {
      "mode": "absolute",
      "steps": [
       {
        "color": "green",
        "value": null
       },
       {
        "color": "red",
        "value": 80
       }
      ]
     },
     "unit": "ops"
    },
    "overrides": []
   },
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 0,
    "y": 0
   },
   "id": 24,
   "links": [],
   "maxDataPoints": 100,
   "options": {
    "colorMode": "value",
    "graphMode": "area",
    "justifyMode": "auto",
    "orientation": "horizontal",
    "reduceOptions": {
     "calcs": [
      "mean"
     ],
     "fields": "",
     "values": false
    },
    "textMode": "auto"
   },
   "pluginVersion": "8.5.1",
   "targets": [
    {
     "expr": "sum(rate(http_server_request_count{job=\"cache-story\"}[$__interval]))",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "title": "Incoming Request Rate",
   "type": "stat"
  },
  {
   "datasource": {},
   "description": "99th Percentile Latency",
   "fieldConfig": {
    "defaults": {
     "mappings": [
      {
       "options": {
        "match": "null",
        "result": {
         "text": "N/A"
        }
       },
       "type": "special"
      }
     ],
     "thresholds": {
      "mode": "absolute",
      "steps": [
       {
        "color": "green",
        "value": null
       },
       {
        "color": "red",
        "value": 500
       }
      ]
     },
     "unit": "ms"
    },
    "overrides": []
   },
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 8,
    "y": 0
   },
   "id": 25,
   "links": [],
   "maxDataPoints": 100,
   "options": {
    "colorMode": "value",
    "graphMode": "area",
    "justifyMode": "auto",
    "orientation": "horizontal",
    "reduceOptions": {
     "calcs": [
      "mean"
     ],
     "fields": "",
     "values": false
    },
    "textMode": "auto"
   },
   "pluginVersion": "8.5.1",
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.99, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "interval": "",
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "title": "99th Percentile Latency",
   "type": "stat"
  },
  {
   "datasource": {},
   "description": "",
   "fieldConfig": {
    "defaults": {
     "decimals": 3,
     "mappings": [
      {
       "options": {
        "match": "null",
        "result": {
         "text": "N/A"
        }
       },
       "type": "special"
      }
     ],
     "max": 1,
     "min": 0,
     "thresholds": {
      "mode": "absolute",
      "steps": [
       {
        "color": "#299c46",
        "value": null
       },
       {
        "color": "rgba(237, 129, 40, 0.89)",
        "value": 100
       },
       {
        "color": "#d44a3a",
        "value": 99
       }
      ]
     },
     "unit": "percentunit"
    },
    "overrides": []
   },
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 16,
    "y": 0
   },
   "id": 26,
   "links": [],
   "maxDataPoints": 100,
   "options": {
    "colorMode": "value",
    "graphMode": "area",
    "justifyMode": "auto",
    "orientation": "horizontal",
    "reduceOptions": {
     "calcs": [
      "mean"
     ],
     "fields": "",
     "values": false
    },
    "textMode": "auto"
   },
   "pluginVersion": "8.5.1",
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(http_server_response_count_by_status_code{job=\"cache-story\", http_status=~\"[1234]..\"}[$__interval])) / sum(rate(http_server_response_count_by_status_code{job=\"cache-story\"}[$__interval]))",
     "interval": "",
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "title": "Service Availability",
   "type": "stat"
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {},
   "description": "Incoming Request Rate",
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 0,
    "y": 7
   },
   "hiddenSeries": false,
   "id": 28,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "null as zero",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(http_server_latency_by_path_count{job=\"cache-story\"}[$__interval])) by (http_server_route)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{http_server_route}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Incoming Request Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "min": "0",
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 8,
    "y": 7
   },
   "hiddenSeries": false,
   "id": 34,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "histogram_quantile(0.95, sum(rate(http_server_latency_by_path_bucket{job=\"cache-story\"}[$__interval])) by (http_server_route, le)) ",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{http_server_route}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Server Latency By Endpoint (95th percentile)",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 2,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {},
   "description": "",
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 16,
    "y": 7
   },
   "hiddenSeries": false,
   "id": 31,
   "legend": {
    "alignAsTable": false,
    "avg": false,
    "current": false,
    "hideEmpty": false,
    "hideZero": false,
    "max": false,
    "min": false,
    "rightSide": false,
    "show": false,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(http_server_response_count_by_status_code{job=\"cache-story\", http_status=~\"[45]..\"}[$__interval])) / sum(rate(http_server_response_count_by_status_code{job=\"cache-story\"}[$__interval]))",
     "interval": "",
     "legendFormat": "Error Rate",
     "refId": "B"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Error Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "percentunit",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {},
   "description": "Incoming Request Latency",
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 0,
    "y": 14
   },
   "hiddenSeries": false,
   "id": 29,
   "legend": {
    "avg": false,
    "current": false,
    "hideEmpty": true,
    "hideZero": true,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "null as zero",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.50, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "format": "time_series",
     "hide": false,
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "50th",
     "refId": "A"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.95, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "format": "time_series",
     "hide": false,
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "95th",
     "refId": "B"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.99, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "format": "time_series",
     "hide": false,
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "99th",
     "refId": "D"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.999, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "interval": "1m",
     "legendFormat": "99.9th",
     "refId": "C"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.9999, sum(rate(http_server_latency_bucket{job=\"cache-story\"}[$__interval])) by (le))",
     "interval": "1m",
     "legendFormat": "99.99th",
     "refId": "E"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Incoming Request Latency",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 2,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "description": "Network I/O",
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 8,
    "y": 14
   },
   "hiddenSeries": false,
   "id": 6,
   "legend": {
    "alignAsTable": false,
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "rightSide": false,
    "show": true,
    "sort": "current",
    "sortDesc": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(http_server_request_bytes_sum{job=\"cache-story\"}[$__interval]))",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "Received",
     "refId": "A"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "-sum(rate(http_server_response_bytes_sum{job=\"cache-story\"}[$__interval]))",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "Sent",
     "refId": "B"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Network I/O",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "Bps",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {},
   "description": "Response Rate by Status",
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 7,
    "w": 8,
    "x": 16,
    "y": 14
   },
   "hiddenSeries": false,
   "id": 30,
   "legend": {
    "alignAsTable": false,
    "avg": false,
    "current": false,
    "hideEmpty": true,
    "hideZero": true,
    "max": false,
    "min": false,
    "rightSide": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(http_server_response_count_by_status_code{job=\"cache-story\"}[$__interval])) by (http_status)",
     "format": "time_series",
     "hide": false,
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{ http_status }}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Response Rate by Status",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 0,
    "y": 21
   },
   "hiddenSeries": false,
   "id": 2,
   "legend": {
    "alignAsTable": false,
    "avg": true,
    "current": true,
    "max": true,
    "min": false,
    "rightSide": false,
    "show": true,
    "sort": "current",
    "sortDesc": true,
    "total": false,
    "values": true
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "connected",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": true,
   "steppedLine": false,
   "targets": [
    {
     "expr": "process_resident_memory_bytes{job=\"cache-story\"}",
     "interval": "",
     "legendFormat": "mem",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Memory Usage",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "bytes",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": false
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {},
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 12,
    "y": 21
   },
   "hiddenSeries": false,
   "id": 4,
   "legend": {
    "alignAsTable": false,
    "avg": true,
    "current": true,
    "hideEmpty": true,
    "hideZero": true,
    "max": true,
    "min": false,
    "rightSide": false,
    "show": true,
    "sort": "current",
    "sortDesc": true,
    "total": false,
    "values": true
   },
   "lines": true,
   "linewidth": 2,
   "links": [],
   "nullPointMode": "connected",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": true,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "rate(process_cpu_seconds_total{job=\"cache-story\"}[$__interval])",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 2,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "CPU Usage",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "short",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 0,
    "y": 30
   },
   "hiddenSeries": false,
   "id": 39,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(rate(use_case_interactions_count{job=\"cache-story\"}[$__interval])) by (name,status)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{name}}:{{status}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Use Case Rate ",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 8,
    "y": 30
   },
   "hiddenSeries": false,
   "id": 36,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "histogram_quantile(0.95, sum(rate(http_client_latency_by_host_bucket{job=\"cache-story\"}[$__interval])) by (http_client_host, le)) ",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{http_client_host}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "HTTP Client Latency (95th percentile)",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 2,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 16,
    "y": 30
   },
   "hiddenSeries": false,
   "id": 38,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "histogram_quantile(0.999, sum(rate(go_sql_client_latency_bucket{job=\"cache-story\"}[$__interval])) by (go_sql_status,le)) ",
     "format": "time_series",
     "instant": false,
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{go_sql_status}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Database Latency (99.9th percentile)",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 2,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 0,
    "y": 39
   },
   "hiddenSeries": false,
   "id": 42,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(cache_miss{job=\"cache-story\"}[$__interval])) by (name)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{name}} miss",
     "refId": "A"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "expr": "sum(rate(cache_write{job=\"cache-story\"}[$__interval])) by (name)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{name}} write",
     "refId": "B"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "editorMode": "code",
     "expr": "sum(rate(cache_expired{job=\"cache-story\"}[$__interval])) by (name)",
     "hide": false,
     "interval": "1m",
     "legendFormat": "{{name}} expired",
     "range": true,
     "refId": "C"
    },
    {
     "datasource": {
      "type": "prometheus",
      "uid": "PBFA97CFB590B2093"
     },
     "editorMode": "code",
     "expr": "sum(rate(cache_build{job=\"cache-story\"}[$__interval])) by (name)",
     "hide": false,
     "interval": "1m",
     "legendFormat": "{{name}} build",
     "range": true,
     "refId": "D"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Cache Miss/Write Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 8,
    "y": 39
   },
   "hiddenSeries": false,
   "id": 40,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(rate(http_client_latency_by_host_count{job=\"cache-story\"}[$__interval])) by (http_client_host)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{http_client_host}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "HTTP Client Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 16,
    "y": 39
   },
   "hiddenSeries": false,
   "id": 41,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(rate(sql_storage_queries_total{job=~\"cache-story\"}[$__interval])) by (method)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{method}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "DB Operations Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 0,
    "y": 48
   },
   "hiddenSeries": false,
   "id": 43,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(rate(cache_hit{job=~\"cache-story\"}[$__interval])) by (name)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{name}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Cache Hit Rate",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ops",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 8,
    "y": 48
   },
   "hiddenSeries": false,
   "id": 44,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "avg(cache_items{job=\"cache-story\"}) by (name)",
     "format": "time_series",
     "intervalFactor": 1,
     "legendFormat": "{{name}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Cache items count",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "short",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 8,
    "x": 16,
    "y": 48
   },
   "hiddenSeries": false,
   "id": 62,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "1000 * sum(rate(sql_storage_queries_seconds{job=\"cache-story\"}[$__interval])) by (method) / sum(rate(sql_storage_queries_total{job=\"cache-story\"}[$__interval])) by (method)",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 1,
     "legendFormat": "{{method}}",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Avg Database Operation Latency",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 2,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 0,
    "y": 57
   },
   "hiddenSeries": false,
   "id": 46,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(go_goroutines{job=\"cache-story\"})",
     "format": "time_series",
     "interval": "1m",
     "intervalFactor": 10,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Goroutines Count",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "short",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 12,
    "y": 57
   },
   "hiddenSeries": false,
   "id": 48,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "1000*sum(go_gc_duration_seconds{job=\"cache-story\",quantile=\"0.75\"})",
     "format": "time_series",
     "interval": "",
     "intervalFactor": 10,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "GC Duration (75th percentile)",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "ms",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 0,
    "y": 66
   },
   "hiddenSeries": false,
   "id": 47,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(go_memstats_heap_alloc_bytes{job=\"cache-story\"})",
     "format": "time_series",
     "interval": "",
     "intervalFactor": 10,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Heap Allocated",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "bytes",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  },
  {
   "aliasColors": {},
   "bars": false,
   "dashLength": 10,
   "dashes": false,
   "datasource": {
    "type": "prometheus",
    "uid": "PBFA97CFB590B2093"
   },
   "fieldConfig": {
    "defaults": {
     "links": []
    },
    "overrides": []
   },
   "fill": 1,
   "fillGradient": 0,
   "gridPos": {
    "h": 9,
    "w": 12,
    "x": 12,
    "y": 66
   },
   "hiddenSeries": false,
   "id": 49,
   "legend": {
    "avg": false,
    "current": false,
    "max": false,
    "min": false,
    "show": true,
    "total": false,
    "values": false
   },
   "lines": true,
   "linewidth": 1,
   "links": [],
   "nullPointMode": "null",
   "options": {
    "alertThreshold": true
   },
   "paceLength": 10,
   "percentage": false,
   "pluginVersion": "8.5.1",
   "pointradius": 5,
   "points": false,
   "renderer": "flot",
   "seriesOverrides": [],
   "spaceLength": 10,
   "stack": false,
   "steppedLine": false,
   "targets": [
    {
     "expr": "sum(go_memstats_heap_objects{job=\"cache-story\"})",
     "format": "time_series",
     "interval": "",
     "intervalFactor": 10,
     "legendFormat": "",
     "refId": "A"
    }
   ],
   "thresholds": [],
   "timeRegions": [],
   "title": "Heap Objects Count",
   "tooltip": {
    "shared": true,
    "sort": 0,
    "value_type": "individual"
   },
   "type": "graph",
   "xaxis": {
    "mode": "time",
    "show": true,
    "values": []
   },
   "yaxes": [
    {
     "format": "short",
     "logBase": 1,
     "show": true
    },
    {
     "format": "short",
     "logBase": 1,
     "show": true
    }
   ],
   "yaxis": {
    "align": false
   }
  }
 ],
 "refresh": "30s",
 "schemaVersion": 36,
 "style": "dark",
 "tags": [],
 "templating": {
  "list": []
 },
 "time": {
  "from": "now-15m",
  "to": "now"
 },
 "timepicker": {
  "refresh_intervals": [
   "5s",
   "10s",
   "30s",
   "1m",
   "5m",
   "15m",
   "30m",
   "1h",
   "2h",
   "1d"
  ],
  "time_options": [
   "5m",
   "15m",
   "1h",
   "6h",
   "12h",
   "24h",
   "2d",
   "7d",
   "30d"
  ]
 },
 "timezone": "",
 "title": "Cache Story",
 "uid": "cache-story",
 "version": 1,
 "weekStart": ""
}